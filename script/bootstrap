#!/usr/bin/env ruby

require_relative 'lib/install_swiftlint'
require_relative 'lib/install_sourcery'
require_relative 'lib/installers'

# Install local binaries in ./bin directory
install_swiftlint
install_sourcery

# Install CI environment dependencies
# proselint is a dependency needed by danger-prose plugin.
pip_install "proselint" if running_on_ci?

# Install Ruby gems
bundle_install if File.exist?("Gemfile")

# Install dependencies and build
`swift build`
`swift package generate-xcodeproj`

puts ""
puts " â†’ You are ready to rock!!!"
puts "\tExecute 'open Feebi.xcodeproj' and start hacking!"
puts ""
